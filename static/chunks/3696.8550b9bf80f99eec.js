"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3696],{3928:function(e,t,a){a.r(t),a.d(t,{ChatItem:function(){return x},ChatList:function(){return u}});var n=a(9268),s=a(9862),i=a(1034),c=a.n(i),r=a(2223),l=a(3492),d=a(6523),o=a(7005),h=a(9671),m=a(4051);function x(e){return(0,n.jsx)(r._l,{draggableId:"".concat(e.id),index:e.index,children:t=>(0,n.jsxs)("div",{className:"".concat(c()["chat-item"]," ").concat(e.selected&&c()["chat-item-selected"]),onClick:e.onClick,ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,title:"".concat(e.title,"\n").concat(d.ZP.ChatItem.ChatItemCount(e.count)),children:[e.narrow?(0,n.jsxs)("div",{className:c()["chat-item-narrow"],children:[(0,n.jsx)("div",{className:c()["chat-item-avatar"]+" no-dark",children:(0,n.jsx)(m.MaskAvatar,{mask:e.mask})}),(0,n.jsx)("div",{className:c()["chat-item-narrow-count"],children:e.count})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:c()["chat-item-title"],children:e.title}),(0,n.jsxs)("div",{className:c()["chat-item-info"],children:[(0,n.jsx)("div",{className:c()["chat-item-count"],children:d.ZP.ChatItem.ChatItemCount(e.count)}),(0,n.jsx)("div",{className:c()["chat-item-date"],children:new Date(e.time).toLocaleString()})]})]}),(0,n.jsx)("div",{className:c()["chat-item-delete"],onClickCapture:e.onDelete,children:(0,n.jsx)(s.Z,{})})]})})}function u(e){let[t,a,s,i]=(0,l.aK)(e=>[e.sessions,e.currentSessionIndex,e.selectSession,e.moveSession]),m=(0,l.aK)(),u=(0,o.s0)(),p=e=>{let{destination:t,source:a}=e;t&&(t.droppableId!==a.droppableId||t.index!==a.index)&&i(a.index,t.index)};return(0,n.jsx)(r.Z5,{onDragEnd:p,children:(0,n.jsx)(r.bK,{droppableId:"chat-list",children:i=>(0,n.jsxs)("div",{className:c()["chat-list"],ref:i.innerRef,...i.droppableProps,children:[t.map((t,i)=>(0,n.jsx)(x,{title:t.topic,time:new Date(t.lastUpdate).toLocaleString(),count:t.messages.length,id:t.id,index:i,selected:i===a,onClick:()=>{u(h.y$.Chat),s(i)},onDelete:()=>{(!e.narrow||confirm(d.ZP.Home.DeleteChat))&&m.deleteSession(i)},narrow:e.narrow,mask:t.mask},t.id)),i.placeholder]})})})}}}]);